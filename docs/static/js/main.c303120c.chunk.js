(this["webpackJsonpdag-ui"]=this["webpackJsonpdag-ui"]||[]).push([[0],{176:function(e,t,n){e.exports=n(435)},181:function(e,t,n){},434:function(e,t,n){},435:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(43),o=n.n(c),i=(n(181),n(67)),u=n(5),l=n.n(u),s=n(20),f=function(e,t){return function(n){return n({type:e,payload:t})}},p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=Object(s.a)(l.a.mark((function t(r,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.apply(void 0,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},h=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=Object(s.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(p.apply(void 0,[e].concat(n)));case 3:return t.abrupt("return",t.sent);case 4:return t.prev=4,t.finish(4);case 6:case"end":return t.stop()}}),t,null,[[0,,4,6]])})));return function(e){return t.apply(this,arguments)}}()},d=n(11),v=n(94),m=n(170),b=n.n(m),O=n(93),g=n.n(O),E=n(1),j=n(171),y="http://localhost:5000",x="/",S="graph",T="path",A=n(36),G=n(35),w=n(21),C=function e(){Object(w.a)(this,e)},N=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(w.a)(this,e),this.message=t,this.response=n},P=function(e){Object(A.a)(n,e);var t=Object(G.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return n}(N),D=function(e){Object(A.a)(n,e);var t=Object(G.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return n}(N),R=function(e){Object(A.a)(n,e);var t=Object(G.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return n}(N),k=function(e){Object(A.a)(n,e);var t=Object(G.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return n}(N),_=function(e){Object(A.a)(n,e);var t=Object(G.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return n}(N),H=x,I=y,z=function(e,t){return(0,t.parseFn)(t.normalizeCase?function(e){return g()(e,(function(e){return Object(E.camelCase)(e)}))}(e):e)},W=function(e,t){return t.normalizeCase&&(Object(E.isPlainObject)(e)||Object(E.isArray)(e))?function(e){return g()(e,(function(e){return Object(E.snakeCase)(e)}))}(e):e},F=function(e,t){var n=Object(E.get)(t,"idToken");return Object(E.merge)({},e,n&&{token:n})},J=function(e){var t=e;return Object(E.isUndefined)(e.response)?"Network Error"===e.message&&(t=new C):t=function(e){return new({400:k,401:D,403:P,404:R,409:_}[e.response.status]||N)(e.message,e.response)}(e),Promise.reject(t)},M=function(e){var t=function(e){var t,n,r=e.url,a=e.method,c=e.data,o=void 0===c?null:c,i=e.auth,u=void 0===i?null:i,l=e.schema,s=void 0===l?null:l,f=e.params,p=void 0===f?null:f,h=e.normalizeCase,d=void 0===h||h,v=e.normalizeParamCase,m=void 0===v||v,b=e.parse,O=void 0===b?E.identity:b,g=e.headers,j=void 0===g?{}:g;return{parse:z,schema:s,normalizeCase:d,parseFn:O,options:(t={method:a,url:I+H+r,params:Object(E.isNull)(p)?null:W(p,{normalizeCase:m}),data:Object(E.isNull)(o)?null:W(o,{normalizeCase:d}),headers:F(j,u),auth:Object(E.isEmpty)(u)||Object(E.isEmpty)(u.email)?null:(n=u,{username:n.email,password:n.password})},Object(E.omitBy)(t,E.isNull))}}(e),n=t.options,r=Object(v.a)(t,["options"]);return b()(n).then((function(e){return function(e,t){var n=t.schema,r=Object(v.a)(t,["schema"]);return Promise.resolve(e.data).then((function(e){return z(e,r)})).then((function(e){return Object(E.isNull)(n)?e:Object(j.a)(e,n)}))}(e,r)}),J)},V=function(){return M({url:"api/getgraph",method:"GET"})},B=function(e){var t=e.startNode;return M({url:"api/getpaths?startnode=".concat(t),method:"GET"})},L=function(e){return M({url:"api/create",method:"POST",data:Object(d.a)({},e)})},U=function(e){var t=e.parent,n=e.numericValueArray;return M({url:"api/addnode",method:"POST",data:{parent:t,value:n}})},X="[ APP REDUCER ]",$={STORE_PATH:"".concat(X," STORE_PATH"),GET_GRAPH:"".concat(X," GET_GRAPH"),STORE_GRAPH:"".concat(X," STORE_GRAPH"),SET_START_NODE:"".concat(X," SET_START_NODE"),EDIT_GRAPH:"".concat(X," EDIT_GRAPH")},q=function(){return function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(h(V));case 3:n=e.sent,t(f($.STORE_GRAPH,n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Can't get graph");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},K=n(15),Q=n(175);var Y=function(e){return Object(E.assign)({},{data:{id:e.toString()}})},Z=function(e,t){return Object(E.assign)({},{data:{id:e.toString()+t.toString(),source:e.toString(),target:t.toString()}})};var ee=function(e){e.value;var t=e.startNode,n=e.setStartNode,c=e.getPath,o=e.editGraph,i=e.serverGraphData,u=e.createGraph,l=e.getGraph,s=Object(r.useState)(""),f=Object(K.a)(s,2),p=f[0],h=f[1],d=Object(r.useState)([]),v=Object(K.a)(d,2),m=v[0],b=v[1],O=Object(r.useState)([]),g=Object(K.a)(O,2),j=g[0],y=g[1],x=function(e){try{var t=JSON.parse(e);b(t),o(t),h("")}catch(n){h("Error in format",n)}};return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},a.a.createElement("label",null,"Enter graph"),a.a.createElement("textarea",{style:{width:"100%",height:"60%",fontSize:16,flex:1},onChange:function(e){return t=e.target.value,y(t),void x(t);var t},value:j})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},a.a.createElement("label",null,"Graph Format ",a.a.createElement("span",{style:{color:"red"}},p)),a.a.createElement("textarea",{style:{width:"100%",height:"60%",fontSize:16,flex:1},disabled:!0,value:JSON.stringify(m)}))),a.a.createElement("button",{style:{height:50,display:"flex",justifyContent:"center",alignItems:"center",color:"#4970ff",fontWeight:"bold",marginTop:"auto"},onClick:function(){!Object(E.isEmpty)(m)&&u(m)}},"POST GRAPH"),"GRAPH DATA ON SERVER :",a.a.createElement("textarea",{style:{width:"100%",fontSize:16},disabled:!0,value:JSON.stringify(i)}),a.a.createElement("div",null,a.a.createElement("label",null,"Specify Start Node "),a.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}})),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"auto"}},a.a.createElement("div",{style:{backgroundColor:"#f44336",height:50,display:"flex",justifyContent:"center",alignItems:"center",color:"#ffffff",fontWeight:"bold",flex:1},onClick:function(){c(t)}},"GET PATHS"),a.a.createElement("div",{style:{backgroundColor:"#f4a231",height:50,display:"flex",justifyContent:"center",alignItems:"center",color:"#ffffff",fontWeight:"bold",flex:1},onClick:l},"GET GRAPH")))};var te=function(e){var t=e.paths,n=e.graphMode,c=e.setGraphMode,o=e.addNode,i=Object(r.useState)(""),u=Object(K.a)(i,2),l=u[0],s=u[1],f=Object(r.useState)([]),p=Object(K.a)(f,2),h=p[0],d=p[1];return console.log("parent",l,"child",h),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%"}},a.a.createElement("p",{style:{fontSize:18}},JSON.stringify(t)),a.a.createElement("div",null,a.a.createElement("input",{onChange:function(e){return s(e.target.value)},placeholder:"Parent - p1"}),a.a.createElement("input",{onChange:function(e){return t=e.target.value,void d(Object(E.split)(t,","));var t},placeholder:"Children - [n2,n3]"}),a.a.createElement("button",{onClick:function(){Object(E.isEmpty)(l)||Object(E.isEmpty)(h)?console.log("Error in values"):o(l,h)}},"ADD NODE")),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"auto"}},a.a.createElement("p",null,"SELECT GRAPH TO DRAW FOR"),a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.a.createElement("div",{style:{flex:1,backgroundColor:n===S?"#2196F3":"#767f8d",height:40,display:"flex",justifyContent:"center",alignItems:"center",color:"#ffffff"},onClick:function(){return c(S)}},"GRAPH"),a.a.createElement("div",{style:{flex:1,backgroundColor:n===T?"#2196F3":"#767f8d",height:40,display:"flex",justifyContent:"center",alignItems:"center",color:"#ffffff"},onClick:function(){return c(T)}},"PATH"))))},ne=n(90),re=n.n(ne),ae=n(172),ce=n.n(ae),oe=n(173),ie=n.n(oe);re.a.use(ce.a);var ue=function(e){var t=e.graphData;return Object(E.isEmpty)(t)?a.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},"GRAPH DATA NOT AVAILABLE"):a.a.createElement(ie.a,{elements:t,style:{width:"100%",height:"100%",background:"#673ab7",display:"flex"},layout:{name:"dagre"},stylesheet:[{selector:"node",style:{content:"data(id)",backgroundColor:"#f44336"}},{selector:"edge",style:{curveStyle:"bezier",targetArrowShape:"triangle",width:"3",lineColor:"#ffc107",targetArrowColor:"#ff9800"}}]})};n(434);var le=function(e){var t=e.graph,n=e.getGraph,c=e.startNode,o=e.paths,i=e.setStartNode,u=e.getPath,l=e.createGraph,s=e.editGraph,f=e.serverGraphData,p=e.addNode;Object(r.useEffect)((function(){n()}),[]);var h=Object(r.useState)(S),d=Object(K.a)(h,2),v=d[0],m=d[1],b=v===S?function(e){if("object"!==typeof e||e.length<1)return[];var t=[],n=[];try{Object(E.forEach)(e,(function(e,n){return t.push.apply(t,Object(Q.a)(e).concat([n]))}))}catch(a){return[]}var r=Object(E.union)(t);return Object(E.forEach)(r,(function(e){n.push(Y(e))})),Object(E.forEach)(e,(function(e,t){Object(E.forEach)(e,(function(e){n.push(Z(t,e))}))})),n}(t):function(e){var t=Object(E.union)(Object(E.flattenDeep)(e)),n=[];return Object(E.forEach)(t,(function(e){n.push(Y(e))})),Object(E.forEach)(e,(function(e){if(e.length>1)for(var t=0;t<e.length-1;t++)n.push(Z(e[t],e[t+1]))})),n}(o);return a.a.createElement("div",{className:"App"},a.a.createElement("div",{id:"graphDataWrapper"},a.a.createElement("div",{id:"graphData"},a.a.createElement(ee,{value:t,startNode:c,setStartNode:i,getPath:u,serverGraphData:f,getGraph:n,createGraph:l,editGraph:s})),a.a.createElement("div",{id:"paths"},a.a.createElement(te,{paths:o,setGraphMode:m,graphMode:v,addNode:p}))),a.a.createElement("div",{id:"graph"},a.a.createElement(ue,{graphData:b})))},se=Object(i.b)((function(e){var t=e.app;return{graph:t.graph,startNode:t.startNode,paths:t.paths,serverGraphData:t.serverGraphData}}),{getGraph:q,setStartNode:function(e){return function(t){t(f($.SET_START_NODE,e))}},getPath:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(h(B,{startNode:e}));case 3:r=t.sent,n(f($.STORE_PATH,r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Can't get PATHS");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},createGraph:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(h(L,e));case 3:n(q()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("Error Creating graph",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},editGraph:function(e){return function(t){t(f($.EDIT_GRAPH,e))}},addNode:function(e,t){return function(){var n=Object(s.a)(l.a.mark((function n(r){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(E.map)(t,(function(e){return Object(E.toNumber)(e)})),n.prev=1,n.next=4,r(h(U,{parent:e,numericValueArray:a}));case 4:return n.next=6,r(q());case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log("Error Creating Node");case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}})(le),fe=n(19),pe=n(174),he=Object(fe.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{graph:[],serverGraphData:[],paths:{},startNode:"1"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.STORE_GRAPH:return Object(d.a)(Object(d.a)({},e),{},{serverGraphData:t.payload,graph:t.payload});case $.STORE_PATH:return Object(d.a)(Object(d.a)({},e),{},{paths:t.payload});case $.SET_START_NODE:return Object(d.a)(Object(d.a)({},e),{},{startNode:t.payload});case $.EDIT_GRAPH:return Object(d.a)(Object(d.a)({},e),{},{graph:t.payload});default:return e}}}),de=function(e,t){return he(e,t)},ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.d;var me={store:Object(fe.e)(de,ve(Object(fe.a)(pe.a)))}.store;var be=function(){return a.a.createElement(i.a,{store:me},a.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.c303120c.chunk.js.map